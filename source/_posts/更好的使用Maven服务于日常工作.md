---
title: 更好的使用Maven服务于日常工作
date: 2022-09-14 14:48:26
tags: maven
---

maven 作为 Java 开发应用极其广泛的构建工具，有必要深入了解它的一些基本机制，  
方便更好的服务于工作。

## Maven 仓库
企业内部一个真实 maven 使用案例可能像下面这样：
<svg id="SvgjsSvg1144" width="707" height="666.328125" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1145"></defs><g id="SvgjsG1146" transform="translate(25.002609252929688,320)"><path id="SvgjsPath1147" d="M 0 4Q 0 0 4 0L 653.1666564941406 0Q 657.1666564941406 0 657.1666564941406 4L 657.1666564941406 317Q 657.1666564941406 321 653.1666564941406 321L 4 321Q 0 321 0 317Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#f5f5f5"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="648px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.303571428571427" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16" x="329"><tspan id="SvgjsTspan1151" style="text-decoration:;">公司内部</tspan></tspan></text></g></g><g id="SvgjsG1152" transform="translate(153.5859375,25)"><path id="SvgjsPath1153" d="M 0 4Q 0 0 4 0L 405 0Q 409 0 409 4L 409 212Q 409 216 405 216L 4 216Q 0 216 0 212Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#f5f5f5"></path><g id="SvgjsG1154"><text id="SvgjsText1155" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="399px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-2.696428571428573" transform="rotate(0)"><tspan id="SvgjsTspan1156" dy="16" x="204.5"><tspan id="SvgjsTspan1157" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1158" dy="16" x="204.5"><tspan id="SvgjsTspan1159" style="text-decoration:;">远程仓库</tspan></tspan></text></g></g><g id="SvgjsG1160" transform="translate(75.00260925292969,534.3333129882812)"><path id="SvgjsPath1161" d="M 0 0L 237 0L 237 54L 0 54Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffb74d"></path><g id="SvgjsG1162"><text id="SvgjsText1163" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="217px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1164" dy="16" x="118.5"><tspan id="SvgjsTspan1165" style="text-decoration:;">maven本地仓库</tspan></tspan></text></g></g><g id="SvgjsG1166" transform="translate(173.5859375,69)"><path id="SvgjsPath1167" d="M 0 0L 174 0L 174 48L 0 48Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#64b5f6"></path><g id="SvgjsG1168"><text id="SvgjsText1169" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="154px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.375" transform="rotate(0)"><tspan id="SvgjsTspan1170" dy="16" x="87"><tspan id="SvgjsTspan1171" style="text-decoration:;">maven中央仓库</tspan></tspan></text></g></g><g id="SvgjsG1172" transform="translate(378.5859375,69)"><path id="SvgjsPath1173" d="M 0 0L 161 0L 161 48L 0 48Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#64b5f6"></path><g id="SvgjsG1174"><text id="SvgjsText1175" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="141px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.375" transform="rotate(0)"><tspan id="SvgjsTspan1176" dy="16" x="80.5"><tspan id="SvgjsTspan1177" style="text-decoration:;">其他远程仓库</tspan></tspan></text></g></g><g id="SvgjsG1178" transform="translate(45.50260925292969,359.33331298828125)"><path id="SvgjsPath1179" d="M 0 0L 616.1666564941406 0L 616.1666564941406 110.66668701171875L 0 110.66668701171875Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#4dd0e1"></path><g id="SvgjsG1180"><text id="SvgjsText1181" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="597px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-2.625" transform="rotate(0)"><tspan id="SvgjsTspan1182" dy="16" x="308.5"><tspan id="SvgjsTspan1183" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1184" dy="16" x="308.5"><tspan id="SvgjsTspan1185" style="text-decoration:;">私服仓库(maven-public仓库组)</tspan></tspan></text></g></g><g id="SvgjsG1186" transform="translate(173.5859375,178)"><path id="SvgjsPath1187" d="M 0 0L 174 0L 174 47L 0 47Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#bbdefb"></path><g id="SvgjsG1188"><text id="SvgjsText1189" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="154px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1190" dy="16" x="87"><tspan id="SvgjsTspan1191" style="text-decoration:;">国内镜像仓库，</tspan></tspan><tspan id="SvgjsTspan1192" dy="16" x="87"><tspan id="SvgjsTspan1193" style="text-decoration:;">如阿里云镜像仓库</tspan></tspan></text></g></g><g id="SvgjsG1194" transform="translate(216.5859375,126.5)"><path id="SvgjsPath1195" d="M 29.040000000000003 0L 58.96 0L 58.96 23.099999999999998L 88 23.099999999999998L 44 42L 0 23.099999999999998L 29.040000000000003 23.099999999999998L 29.040000000000003 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#bbdefb"></path><g id="SvgjsG1196"><text id="SvgjsText1197" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="124px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="8.275000000000002" transform="rotate(0)"><tspan id="SvgjsTspan1198" dy="16" x="44.4"><tspan id="SvgjsTspan1199" style="text-decoration:;">下载</tspan></tspan></text></g></g><g id="SvgjsG1200" transform="translate(137.0026092529297,484.33331298828125)"><path id="SvgjsPath1201" d="M 31.185000000000002 0L 63.315000000000005 0L 63.315000000000005 23.099999999999998L 94.5 23.099999999999998L 47.25 42L 0 23.099999999999998L 31.185000000000002 23.099999999999998L 31.185000000000002 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffb74d"></path><g id="SvgjsG1202"><text id="SvgjsText1203" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="133px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="8.275000000000002" transform="rotate(0)"><tspan id="SvgjsTspan1204" dy="16" x="47.599999999999994"><tspan id="SvgjsTspan1205" style="text-decoration:;">下载</tspan></tspan></text></g></g><g id="SvgjsG1206" transform="translate(470.0026092529297,482.33331298828125)"><path id="SvgjsPath1207" d="M 49.791664123535156 0L 99.58332824707031 20.7L 66.72082992553712 20.7L 66.72082992553712 46L 32.8624983215332 46L 32.8624983215332 20.7L 0 20.7L 49.791664123535156 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#4dd0e1"></path><g id="SvgjsG1208"><text id="SvgjsText1209" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="140px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="17.155" transform="rotate(0)"><tspan id="SvgjsTspan1210" dy="16" x="50.083334350585936"><tspan id="SvgjsTspan1211" style="text-decoration:;">部署</tspan></tspan></text></g></g><g id="SvgjsG1212" transform="translate(309.5859375,262.5)"><path id="SvgjsPath1213" d="M 29.040000000000003 0L 58.96 0L 58.96 23.099999999999998L 88 23.099999999999998L 44 42L 0 23.099999999999998L 29.040000000000003 23.099999999999998L 29.040000000000003 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#4dd0e1"></path><g id="SvgjsG1214"><text id="SvgjsText1215" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="124px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.235000000000001" transform="rotate(0)"><tspan id="SvgjsTspan1216" dy="16" x="44.4"><tspan id="SvgjsTspan1217" style="text-decoration:;">下载</tspan></tspan></text></g></g><g id="SvgjsG1218" transform="translate(356.2525939941406,177.5)"><path id="SvgjsPath1219" d="M 0 0L 197 0L 197 48L 0 48Z" stroke="none" fill="none"></path><g id="SvgjsG1220"><text id="SvgjsText1221" font-family="微软雅黑" text-anchor="start" font-size="13px" width="197px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-3.125" transform="rotate(0)"><tspan id="SvgjsTspan1222" dy="16" x="0"><tspan id="SvgjsTspan1223" style="text-decoration:;">访问国外仓库下载较慢，因此国内</tspan></tspan><tspan id="SvgjsTspan1224" dy="16" x="0"><tspan id="SvgjsTspan1225" style="text-decoration:;">会有对应的镜像仓库用来代理中央</tspan></tspan><tspan id="SvgjsTspan1226" dy="16" x="0"><tspan id="SvgjsTspan1227" style="text-decoration:;">仓库的请求</tspan></tspan></text></g></g><g id="SvgjsG1228" transform="translate(61.83595275878906,408)"><path id="SvgjsPath1229" d="M 0 4Q 0 0 4 0L 131.66665649414062 0Q 135.66665649414062 0 135.66665649414062 4L 135.66665649414062 42Q 135.66665649414062 46 131.66665649414062 46L 4 46Q 0 46 0 42Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b2ebf2"></path><g id="SvgjsG1230"><text id="SvgjsText1231" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="116px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1232" dy="16" x="68"><tspan id="SvgjsTspan1233" style="text-decoration:;">maven-central</tspan></tspan></text></g></g><g id="SvgjsG1234" transform="translate(211.91928100585938,408)"><path id="SvgjsPath1235" d="M 0 4Q 0 0 4 0L 131.66665649414062 0Q 135.66665649414062 0 135.66665649414062 4L 135.66665649414062 42Q 135.66665649414062 46 131.66665649414062 46L 4 46Q 0 46 0 42Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b2ebf2"></path><g id="SvgjsG1236"><text id="SvgjsText1237" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="116px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1238" dy="16" x="68"><tspan id="SvgjsTspan1239" style="text-decoration:;">maven-releases</tspan></tspan></text></g></g><g id="SvgjsG1240" transform="translate(366.83595275878906,408)"><path id="SvgjsPath1241" d="M 0 4Q 0 0 4 0L 131.66665649414062 0Q 135.66665649414062 0 135.66665649414062 4L 135.66665649414062 42Q 135.66665649414062 46 131.66665649414062 46L 4 46Q 0 46 0 42Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b2ebf2"></path><g id="SvgjsG1242"><text id="SvgjsText1243" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="116px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1244" dy="16" x="68"><tspan id="SvgjsTspan1245" style="text-decoration:;">maven-snapshots</tspan></tspan></text></g></g><g id="SvgjsG1246" transform="translate(514.8359527587891,408)"><path id="SvgjsPath1247" d="M 0 4Q 0 0 4 0L 131.66665649414062 0Q 135.66665649414062 0 135.66665649414062 4L 135.66665649414062 42Q 135.66665649414062 46 131.66665649414062 46L 4 46Q 0 46 0 42Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b2ebf2"></path><g id="SvgjsG1248"><text id="SvgjsText1249" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="116px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1250" dy="16" x="68"><tspan id="SvgjsTspan1251" style="text-decoration:;">3rd-party</tspan></tspan></text></g></g><g id="SvgjsG1252" transform="translate(397.5859375,534.3333129882812)"><path id="SvgjsPath1253" d="M 0 0L 237 0L 237 54L 0 54Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#e1bee7"></path><g id="SvgjsG1254"><text id="SvgjsText1255" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="217px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1256" dy="16" x="118.5"><tspan id="SvgjsTspan1257" style="text-decoration:;">本地maven工程</tspan></tspan></text></g></g><g id="SvgjsG1258" transform="translate(299.6692810058594,477.6666259765625)"><path id="SvgjsPath1259" d="M 0 0L 197.91665649414062 0L 197.91665649414062 48.66668701171875L 0 48.66668701171875Z" stroke="none" fill="none"></path><g id="SvgjsG1260"><text id="SvgjsText1261" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="198px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-2.791656494140625" transform="rotate(0)"><tspan id="SvgjsTspan1262" dy="16" x="99"><tspan id="SvgjsTspan1263" style="text-decoration:;">通过mvn deploy</tspan></tspan><tspan id="SvgjsTspan1264" dy="16" x="99"><tspan id="SvgjsTspan1265" style="text-decoration:;">可以将工程部署到私服</tspan></tspan><tspan id="SvgjsTspan1266" dy="16" x="99"><tspan id="SvgjsTspan1267" style="text-decoration:;">（会先安装到本地仓库）</tspan></tspan></text></g></g><g id="SvgjsG1268" transform="translate(322.5859375,531.3333129882812)"><path id="SvgjsPath1269" d="M 0 30L 27.900000000000002 0L 27.900000000000002 19.8L 62 19.8L 62 40.2L 27.900000000000002 40.2L 27.900000000000002 60L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffb74d"></path><g id="SvgjsG1270"><text id="SvgjsText1271" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="62px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="19.375" transform="rotate(0)"><tspan id="SvgjsTspan1272" dy="16" x="31"><tspan id="SvgjsTspan1273" style="text-decoration:;">依赖</tspan></tspan></text></g></g><g id="SvgjsG1274" transform="translate(203.54427337646484,594.3333129882812)"><path id="SvgjsPath1275" d="M 0 0L 300.0833282470703 0L 300.0833282470703 46.66668701171875L 0 46.66668701171875Z" stroke="none" fill="none"></path><g id="SvgjsG1276"><text id="SvgjsText1277" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="301px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.208343505859375" transform="rotate(0)"><tspan id="SvgjsTspan1278" dy="16" x="150.5"><tspan id="SvgjsTspan1279" style="text-decoration:;">1、本地maven工程依赖本地仓库内jar</tspan></tspan><tspan id="SvgjsTspan1280" dy="16" x="150.5"><tspan id="SvgjsTspan1281" style="text-decoration:;">2、通过mvn install可以将本地工程安装到本地仓库</tspan></tspan></text></g></g></svg>

公司会搭建自己的私服仓库，用户公司内部之间的发布。但是如果涉及到第三方依赖私服仓库没有的，还是会去远程仓库下载并储存起来。Maven 默认的远程仓库是 apache maven 2 仓库。我们称之为 maven 中央仓库。当然，除了这个还有一些其他的远程仓库。


## Maven 的竞品
Apache ivy/Ant、Eclipse Aether、Gradle.........
比较有意思的是 Gradle 使用的仓库就是 maven 仓库。